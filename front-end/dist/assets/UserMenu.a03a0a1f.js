var ee=Object.defineProperty,te=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var H=(s,i,l)=>i in s?ee(s,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[i]=l,D=(s,i)=>{for(var l in i||(i={}))X.call(i,l)&&H(s,l,i[l]);if(O)for(var l of O(i))z.call(i,l)&&H(s,l,i[l]);return s},W=(s,i)=>te(s,ne(i));var $=(s,i)=>{var l={};for(var e in s)X.call(s,e)&&i.indexOf(e)<0&&(l[e]=s[e]);if(s!=null&&O)for(var e of O(s))i.indexOf(e)<0&&z.call(s,e)&&(l[e]=s[e]);return l};import{s as E,_ as B,q as A,J as q,K as se,d as m,a as f,l as re,M as ie,b as ae,c as oe,j as y,Q as le}from"./vendor.398990a8.js";import{_ as ue}from"./index.1263fdb3.js";import{l as ce}from"./auth-action.307f59c5.js";function pe(s,i){return s.classList?!!i&&s.classList.contains(i):(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+i+" ")!==-1}function de(s,i){s.classList?s.classList.add(i):pe(s,i)||(typeof s.className=="string"?s.className=s.className+" "+i:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+i))}function J(s,i){return s.replace(new RegExp("(^|\\s)"+i+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function fe(s,i){s.classList?s.classList.remove(i):typeof s.className=="string"?s.className=J(s.className,i):s.setAttribute("class",J(s.className&&s.className.baseVal||"",i))}var K={disabled:!1},Q=E.createContext(null),T="unmounted",C="exited",g="entering",N="entered",I="exiting",x=function(s){B(i,s);function i(e,n){var t;t=s.call(this,e,n)||this;var a=n,r=a&&!a.isMounting?e.enter:e.appear,o;return t.appearStatus=null,e.in?r?(o=C,t.appearStatus=g):o=N:e.unmountOnExit||e.mountOnEnter?o=T:o=C,t.state={status:o},t.nextCallback=null,t}i.getDerivedStateFromProps=function(n,t){var a=n.in;return a&&t.status===T?{status:C}:null};var l=i.prototype;return l.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},l.componentDidUpdate=function(n){var t=null;if(n!==this.props){var a=this.state.status;this.props.in?a!==g&&a!==N&&(t=g):(a===g||a===N)&&(t=I)}this.updateStatus(!1,t)},l.componentWillUnmount=function(){this.cancelNextCallback()},l.getTimeouts=function(){var n=this.props.timeout,t,a,r;return t=a=r=n,n!=null&&typeof n!="number"&&(t=n.exit,a=n.enter,r=n.appear!==void 0?n.appear:a),{exit:t,enter:a,appear:r}},l.updateStatus=function(n,t){n===void 0&&(n=!1),t!==null?(this.cancelNextCallback(),t===g?this.performEnter(n):this.performExit()):this.props.unmountOnExit&&this.state.status===C&&this.setState({status:T})},l.performEnter=function(n){var t=this,a=this.props.enter,r=this.context?this.context.isMounting:n,o=this.props.nodeRef?[r]:[A.findDOMNode(this),r],u=o[0],c=o[1],p=this.getTimeouts(),h=r?p.appear:p.enter;if(!n&&!a||K.disabled){this.safeSetState({status:N},function(){t.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:g},function(){t.props.onEntering(u,c),t.onTransitionEnd(h,function(){t.safeSetState({status:N},function(){t.props.onEntered(u,c)})})})},l.performExit=function(){var n=this,t=this.props.exit,a=this.getTimeouts(),r=this.props.nodeRef?void 0:A.findDOMNode(this);if(!t||K.disabled){this.safeSetState({status:C},function(){n.props.onExited(r)});return}this.props.onExit(r),this.safeSetState({status:I},function(){n.props.onExiting(r),n.onTransitionEnd(a.exit,function(){n.safeSetState({status:C},function(){n.props.onExited(r)})})})},l.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},l.safeSetState=function(n,t){t=this.setNextCallback(t),this.setState(n,t)},l.setNextCallback=function(n){var t=this,a=!0;return this.nextCallback=function(r){a&&(a=!1,t.nextCallback=null,n(r))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},l.onTransitionEnd=function(n,t){this.setNextCallback(t);var a=this.props.nodeRef?this.props.nodeRef.current:A.findDOMNode(this),r=n==null&&!this.props.addEndListener;if(!a||r){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=o[0],c=o[1];this.props.addEndListener(u,c)}n!=null&&setTimeout(this.nextCallback,n)},l.render=function(){var n=this.state.status;if(n===T)return null;var t=this.props,a=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=q(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return E.createElement(Q.Provider,{value:null},typeof a=="function"?a(n,r):E.cloneElement(E.Children.only(a),r))},i}(E.Component);x.contextType=Q;x.propTypes={};function S(){}x.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:S,onEntering:S,onEntered:S,onExit:S,onExiting:S,onExited:S};x.UNMOUNTED=T;x.EXITED=C;x.ENTERING=g;x.ENTERED=N;x.EXITING=I;var ve=x,he=function(i,l){return i&&l&&l.split(" ").forEach(function(e){return de(i,e)})},w=function(i,l){return i&&l&&l.split(" ").forEach(function(e){return fe(i,e)})},M=function(s){B(i,s);function i(){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return e=s.call.apply(s,[this].concat(t))||this,e.appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(r,o){var u=e.resolveArguments(r,o),c=u[0],p=u[1];e.removeClasses(c,"exit"),e.addClass(c,p?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(r,o)},e.onEntering=function(r,o){var u=e.resolveArguments(r,o),c=u[0],p=u[1],h=p?"appear":"enter";e.addClass(c,h,"active"),e.props.onEntering&&e.props.onEntering(r,o)},e.onEntered=function(r,o){var u=e.resolveArguments(r,o),c=u[0],p=u[1],h=p?"appear":"enter";e.removeClasses(c,h),e.addClass(c,h,"done"),e.props.onEntered&&e.props.onEntered(r,o)},e.onExit=function(r){var o=e.resolveArguments(r),u=o[0];e.removeClasses(u,"appear"),e.removeClasses(u,"enter"),e.addClass(u,"exit","base"),e.props.onExit&&e.props.onExit(r)},e.onExiting=function(r){var o=e.resolveArguments(r),u=o[0];e.addClass(u,"exit","active"),e.props.onExiting&&e.props.onExiting(r)},e.onExited=function(r){var o=e.resolveArguments(r),u=o[0];e.removeClasses(u,"exit"),e.addClass(u,"exit","done"),e.props.onExited&&e.props.onExited(r)},e.resolveArguments=function(r,o){return e.props.nodeRef?[e.props.nodeRef.current,r]:[r,o]},e.getClassNames=function(r){var o=e.props.classNames,u=typeof o=="string",c=u&&o?o+"-":"",p=u?""+c+r:o[r],h=u?p+"-active":o[r+"Active"],L=u?p+"-done":o[r+"Done"];return{baseClassName:p,activeClassName:h,doneClassName:L}},e}var l=i.prototype;return l.addClass=function(n,t,a){var r=this.getClassNames(t)[a+"ClassName"],o=this.getClassNames("enter"),u=o.doneClassName;t==="appear"&&a==="done"&&u&&(r+=" "+u),a==="active"&&n&&n.scrollTop,r&&(this.appliedClasses[t][a]=r,he(n,r))},l.removeClasses=function(n,t){var a=this.appliedClasses[t],r=a.base,o=a.active,u=a.done;this.appliedClasses[t]={},r&&w(n,r),o&&w(n,o),u&&w(n,u)},l.render=function(){var n=this.props;n.classNames;var t=q(n,["classNames"]);return E.createElement(ve,se({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},i}(E.Component);M.defaultProps={classNames:""};M.propTypes={};var Ee=M;const Y=E.createContext({parent:{}});function xe(){const s=m.exports.useRef(!0);return m.exports.useEffect(()=>{s.current=!1},[]),s.current}function Z(h){var L=h,{show:s,enter:i="",enterStart:l="",enterEnd:e="",leave:n="",leaveStart:t="",leaveEnd:a="",appear:r,unmountOnExit:o,tag:u="div",children:c}=L,p=$(L,["show","enter","enterStart","enterEnd","leave","leaveStart","leaveEnd","appear","unmountOnExit","tag","children"]);const P=i.split(" ").filter(d=>d.length),j=l.split(" ").filter(d=>d.length),G=e.split(" ").filter(d=>d.length),U=n.split(" ").filter(d=>d.length),F=t.split(" ").filter(d=>d.length),V=a.split(" ").filter(d=>d.length),_=o;function k(d,b){b.length&&d.classList.add(...b)}function R(d,b){b.length&&d.classList.remove(...b)}const v=E.useRef(null);return f(Ee,{appear:r,nodeRef:v,unmountOnExit:_,in:s,addEndListener:d=>{v.current.addEventListener("transitionend",d,!1)},onEnter:()=>{_||(v.current.style.display=null),k(v.current,[...P,...j])},onEntering:()=>{R(v.current,j),k(v.current,G)},onEntered:()=>{R(v.current,[...G,...P])},onExit:()=>{k(v.current,[...U,...F])},onExiting:()=>{R(v.current,F),k(v.current,V)},onExited:()=>{R(v.current,[...V,...U]),_||(v.current.style.display="none")},children:f(u,W(D({ref:v},p),{style:{display:_?null:"none"},children:c}))})}function me(e){var n=e,{show:s,appear:i}=n,l=$(n,["show","appear"]);const{parent:t}=m.exports.useContext(Y),a=xe();return s===void 0?f(Z,D({appear:t.appear||!t.isInitialRender,show:t.show},l)):f(Y.Provider,{value:{parent:{show:s,isInitialRender:a,appear:i}},children:f(Z,D({appear:i,show:s},l))})}var Ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:me});const ge=re(()=>ue(()=>Promise.resolve().then(function(){return Ce}),void 0));function _e(){const s=ie(),[i,l]=m.exports.useState(!1),e=ae(),n=oe(o=>o.authReducer.user),t=()=>{e(ce()),s("/login")},a=m.exports.useRef(null),r=m.exports.useRef(null);return m.exports.useEffect(()=>{const o=({target:u})=>{var c,p;!i||((c=r.current)==null?void 0:c.contains(u))||((p=a.current)==null?void 0:p.contains(u))||l(!1)};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)}),m.exports.useEffect(()=>{const o=({keyCode:u})=>{!i||u!==27||l(!1)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)}),y("div",{className:"relative inline-flex px-2 py-2",children:[f("button",{ref:a,className:"inline-flex justify-center items-center group","aria-haspopup":"true",onClick:()=>l(!i),"aria-expanded":i,children:y("div",{className:"flex items-center truncate",children:[f("span",{className:"truncate ml-2 mx-1 text-lg font-medium group-hover:text-slate-900",children:n==null?void 0:n.fullName}),f("svg",{className:"w-3 h-3 shrink-0 ml-1 fill-current text-black",viewBox:"0 0 12 12",children:f("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})]})}),f(ge,{className:"origin-top-right z-10 absolute top-full right-0 min-w-44 bg-white border border-slate-200 py-1.5 rounded shadow-lg overflow-hidden mt-1",show:i,enter:"transition ease-out duration-200 transform",enterStart:"opacity-0 -translate-y-2",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-out duration-200",leaveStart:"opacity-100",leaveEnd:"opacity-0",children:y("div",{ref:r,onFocus:()=>l(!0),onBlur:()=>l(!1),children:[y("div",{className:"pt-0.5 pb-2 px-3 mb-1 border-b border-slate-200",children:[f("div",{className:"font-medium text-slate-800",children:n==null?void 0:n.fullName}),f("div",{className:"text-xs text-slate-500 italic",children:n==null?void 0:n.role})]}),f("ul",{children:f("li",{children:f(le,{className:"font-medium text-sm text-indigo-500 hover:text-indigo-600 flex items-center py-1 px-3",to:"/",onClick:t,children:"Sign Out"})})})]})})]})}export{_e as U};
