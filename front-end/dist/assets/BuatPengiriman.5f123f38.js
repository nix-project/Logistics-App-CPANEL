var F=Object.defineProperty,S=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var y=(n,t,s)=>t in n?F(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s,g=(n,t)=>{for(var s in t||(t={}))J.call(t,s)&&y(n,s,t[s]);if(v)for(var s of v(t))T.call(t,s)&&y(n,s,t[s]);return n},p=(n,t)=>S(n,O(t));import{b as h,c as f,d as i,a as e,M as E,j as r}from"./vendor.398990a8.js";import{c as B}from"./pengiriman-action.0a5ca3fd.js";import{S as N}from"./react-select.esm.7f4a8503.js";import{r as D}from"./customer-action.48498c2a.js";import{r as A}from"./pengangkutan-action.48433239.js";import{D as I,K}from"./KendaraanOptions.3c1643a2.js";import{t as L}from"./index.1263fdb3.js";import"./http-common.6e68e359.js";import"./constants.b42f89d0.js";import"./user-action.bb4c92f9.js";import"./kendaraan-action.0f762952.js";const V=({onChange:n=null})=>{const t=h(),s=f(l=>l.customers.list).map(l=>({value:l.id,label:l.customer})),d=l=>{n({target:{name:"customer",value:l.value}})};return i.exports.useEffect(()=>{t(D())},[]),e(N,{onChange:d,type:"text",id:"customer",name:"customer",className:"mt-1 block w-full border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm",placeholder:"Choose Customer",options:s})},U=({onChange:n=null,value:t=null})=>{const s=h(),[d,l]=i.exports.useState(null),b=f(a=>a.pengangkutans.list).map(a=>({value:a.id,label:a.pengangkutan})),k=a=>{n({target:{name:"pengangkutan",value:a.value}})},x=()=>{const a=b.find(u=>u.value===t);l(a||null)};return i.exports.useEffect(()=>{x()},[t]),i.exports.useEffect(()=>{s(A())},[]),e(N,{onChange:k,type:"text",id:"pengangkutan",name:"pengangkutan",value:d,className:"mt-1 block w-full border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm",placeholder:"Choose Pengangkutan",options:b,isClearable:!0})};function M(){const n=E(),t=h(),[s,d]=i.exports.useState(null),[l,b]=i.exports.useState(null),k=f(o=>o.customers.list),x=f(o=>o.pengangkutans.list),[a,u]=i.exports.useState({customer:0,suratJalan:"",pengangkutan:0,address:"",note:"",tonase:"",driver:0,kendaraan:0,status:""}),w=()=>{let o="";s==="toko"?(u(c=>p(g({},c),{pengangkutan:""})),a.customer&&(o=k.find(c=>c.id===a.customer).address)):s==="po"&&a.pengangkutan&&(o=x.find(c=>c.id===a.pengangkutan).address),u(c=>p(g({},c),{address:o}))},m=o=>{const{name:c,value:P}=o.target;u(j=>p(g({},j),{[c]:P}))},C=o=>{o.preventDefault(),t(B(a)).then(()=>{window.alert("Pengiriman created successfully"),n("/listpengiriman")}).catch(c=>{window.alert(c)})};return i.exports.useEffect(()=>{},[a]),i.exports.useEffect(()=>{w()},[s,a.customer,a.pengangkutan]),e("div",{className:"mt-10 sm:mt-0",children:e("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:e("div",{className:"mt-5 md:mt-0 md:col-span-4",children:e("form",{onSubmit:C,children:r("div",{className:"shadow overflow-hidden sm:rounded-md",children:[r("div",{className:"px-4 py-5 bg-white sm:p-6",children:[e("header",{className:"px-0 mt-2 mb-6",children:e("h2",{className:"font-semibold text-slate-800 uppercase",children:"Pengiriman Baru"})}),r("div",{className:"grid grid-cols-6 gap-6",children:[r("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"customer",className:"block text-sm font-medium text-gray-700",children:"Customer"}),e(V,{onChange:m})]}),r("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"suratJalan",className:"block text-sm font-medium text-gray-700",children:"Surat Jalan"}),e("input",{onChange:m,type:"text",name:"suratJalan",id:"suratJalan",placeholder:"No Surat Jalan",className:"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:a==null?void 0:a.suratJalan})]}),r("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"pengangkutan",className:"block text-sm font-medium text-gray-700",children:"Pengangkutan"}),e(U,{onChange:m,value:a.pengangkutan})]}),r("div",{className:"col-span-6 sm:col-span-3",children:[r("div",{className:"form-check form-check-inline mr-3",children:[e("input",{onChange:o=>d(o.target.value),className:"form-check-input form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"radio",name:"tipetoko",id:"tipeToko",value:"toko",disabled:a.customer===""}),e("label",{className:"form-check-label inline-block text-sm font-medium text-gray-500",htmlFor:"tipeToko",children:"Toko"})]}),r("div",{className:"form-check form-check-inline mr-3",children:[e("input",{onChange:o=>d(o.target.value),className:"form-check-input form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"radio",name:"tipetoko",id:"tipePO",value:"po",disabled:a.customer===""}),e("label",{className:"form-check-label inline-block text-sm font-medium text-gray-500",htmlFor:"tipePO",children:"PO"})]}),r("div",{className:"form-check form-check-inline mr-3",children:[e("input",{onChange:o=>d(o.target.value),className:"form-check-input form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"radio",name:"tipetoko",id:"tipeLainnya",value:"lain-lain",disabled:a.customer===""}),e("label",{className:"form-check-label inline-block text-sm font-medium text-gray-500",htmlFor:"tipeLainnya",children:"Lain-lain"})]})]}),r("div",{className:"col-span-6 sm:col-span-5",children:[e("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Alamat Pengiriman"}),e("textarea",{onChange:m,type:"text",name:"address",id:"address",rows:"4",placeholder:"Alamat Lengkap Pengiriman",value:a==null?void 0:a.address,className:"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),r("div",{className:"col-span-6 sm:col-span-5",children:[e("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-700",children:"Note Pengiriman"}),e("textarea",{onChange:m,type:"text",name:"note",id:"note",rows:"4",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"Note Pengiriman",value:a.note})]}),r("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"tonase",className:"block text-sm font-medium text-gray-700",children:"Total Berat"}),e("input",{onChange:m,type:"text",name:"tonase",id:"tonase",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"Total Berat dalam Ons"})]}),r("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"driver",className:"block text-sm font-medium text-gray-700",children:"Driver"}),e(I,{onChange:m})]}),r("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"kendaraan",className:"block text-sm font-medium text-gray-700",children:"Kendaraan"}),e(K,{onChange:m,disabled:l})]})]})]}),r("div",{className:"px-4 py-4 space-x-3 bg-gray-50 text-right sm:px-6",children:[e("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Submit"}),e("button",{type:"button",onClick:()=>n("/listpengiriman"),className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-400 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"})]})]})})})})})}function ee(){const n=h();return i.exports.useEffect(()=>{setTimeout(()=>{n(L(!1))},500)},[]),e(M,{})}export{ee as default};
